# KasOS - Desktop Environment

A modern web-based operating system interface with **Kasia Direct** - the revolutionary blockchain messaging platform that works without wallet extensions.

## üöÄ **Featured Application: Kasia Direct Messenger**

**Kasia Direct** is a breakthrough blockchain messaging platform that eliminates wallet extension dependencies while enabling true micro-transactions:

### ‚úÖ **Revolutionary Features**
- **üîì Zero Dependencies**: No KasWare or browser extensions required
- **‚ö° Direct Blockchain**: Built-in wallet with kaspa-wasm integration  
- **üí∞ Micro-Transactions**: Send messages for as little as 0.00001 KAS (20,000x cheaper than KasWare!)
- **üåê Universal Compatibility**: Works in any modern browser
- **üîí End-to-End Encryption**: Private keys never leave your device
- **üí¨ Real Conversations**: Persistent conversation history and management

### üìä **Economic Breakthrough**
- **Old Way (KasWare)**: 0.2 KAS minimum per message (~$2.00/month for messaging)
- **Kasia Direct**: 0.00001 KAS minimum per message (~$0.01/month for messaging)
- **Cost Reduction**: 99.995% savings on messaging costs!

### üéØ **How to Use**
1. **Access**: Click ‚ö° Kasia Direct icon on desktop
2. **Setup**: Create new wallet or import existing (WIF format)
3. **Connect**: Automatic connection to Kaspa network
4. **Message**: Start conversations with any Kaspa address

**Status**: ‚úÖ Phase 2 Complete - Production Ready!

---

## üñ•Ô∏è **Core System Features**
- **User Authentication**: Secure login/registration system with password hashing and persistent login sessions
- **Session Management**: Automatic login persistence across browser reloads (24-hour sessions)
- **Multi-Desktop Support**: Switch between 3 virtual desktops - NEEDS ATTENTION!!!
- **Window Management**: Drag, resize, minimize, maximize, and close windows -NEEDS ATTENTION!!!
- **File System**: IndexedDB-based file storage with user directories and 500MB-2GB capacity
- **Error Reporting System**: Real-time error monitoring with debug console (Ctrl+Shift+D) NEEDS ATTENTION!!
- **Storage Management**: Intelligent quota handling and automatic cleanup
- **Performance Monitoring**: Track memory usage and long task detection

### Error Reporting System

#### Comprehensive Error Monitoring
- **Real-time Error Capture**: Automatic detection of JavaScript errors, Promise rejections, and resource loading failures
- **Performance Monitoring**: Track long tasks (>50ms) and high memory usage
- **Debug Console**: Press `Ctrl+Shift+D` to toggle the advanced debug panel NEEDS ATTENTION!!
- **Error Categorization**: Errors sorted by System, Authentication, Application, File System, Network, UI, Storage, and Security
- **Severity Levels**: Info, Warning, Error, and Critical with color-coded notifications

#### Features
- **Smart Notifications**: Sliding error notifications with auto-dismiss for non-critical errors
- **Error Statistics**: Comprehensive analytics dashboard showing error trends and categories
- **Export Capabilities**: Export individual errors or complete error logs as JSON
- **Storage Optimization**: Intelligent error history management to prevent quota issues
- **Session Tracking**: Unique session IDs for better error correlation
- **System Information**: Automatic capture of browser, memory, and system details

#### Usage
- **Toggle Debug Mode**: Settings ‚Üí Debug & Error Reporting ‚Üí Enable Debug Mode
- **View Console**: Press `Ctrl+Shift+D` or use manual buttons in Settings panel NEEDS ATTENTION!!
- **Manual Controls**: If keyboard shortcuts don't work, use Settings ‚Üí "Toggle Debug Panel" button
- **Error Details**: Click on any error notification or debug log entry for full details NEEDS ATTENTION!!
- **Export Logs**: Use buttons in Settings panel to export error data
- **Clear History**: Clear error logs to free up storage space

## Built-in Applications

#### 1. Kasia Direct Messenger (‚ö°) **REVOLUTIONARY!**
Revolutionary blockchain messaging without wallet extensions:
- **Zero Dependencies**: No KasWare or browser extensions required
- **Direct Blockchain**: Built-in wallet with kaspa-wasm integration
- **Micro-Transactions**: Send messages for as little as 0.00001 KAS (20,000x smaller than KasWare limits!)
- **Universal Compatibility**: Works in any modern browser
- **End-to-End Encryption**: Private keys never leave your device
- **Real-time Network**: Direct connection to Kaspa nodes
- **Production Ready**: Complete implementation with advanced diagnostics
- **No Registration**: Connect with your wallet, no sign-up required
- **Privacy Focused**: Anonymous messaging without data collection
- **Quick Access**: Use Ctrl+Shift+K to launch instantly

#### 2. Code Editor (üíª)
A comprehensive IDE for building KasOS applications:
- **Multi-language Support**: JavaScript, HTML, CSS, JSON, Markdown, Python, SQL, XML, YAML
- **Syntax Highlighting**: Visual code differentiation with color-coded syntax
- **Project Management**: Organize files with integrated file tree
- **Tab-based Interface**: Work on multiple files simultaneously with clean tab management
- **Live Code Execution**: Run JavaScript code directly with integrated console
- **Auto-completion**: Smart indentation and code formatting
- **File System Integration**: Save/load files from KasOS file system
- **KasOS App Templates**: Built-in template generator for creating KasOS applications
- **Real-time Status**: Line/column tracking, word count, and file size display
- **Keyboard Shortcuts**: Full keyboard support for efficient coding
- **Live Preview**: Run JavaScript code directly
- **Multiple Tabs**: Work on multiple files simultaneously
- **Auto-save**: Automatic saving to prevent data loss
- **Format Code**: Automatic code formatting
- **File Explorer**: Built-in project file browser

#### 3. Text Editor (üìù)
Rich text editor with advanced formatting:
- **Rich Text Formatting**: Bold, italic, underline, colors
- **Font Management**: Multiple fonts and sizes
- **Text Alignment**: Left, center, right, justify
- **Lists**: Ordered and unordered lists
- **Tables**: Insert and edit tables
- **Links and Images**: Embed hyperlinks and images
- **Find & Replace**: Search and replace text
- **Templates**: Quick formatting templates
- **Word Count**: Real-time statistics
- **Export**: Save as HTML or plain text

#### 4. Notes (üìÑ)
Advanced note-taking application:
- **Organization**: Create, edit, and delete notes
- **Search**: Full-text search across all notes
- **Sorting**: Sort by title, created, or modified date
- **Auto-save**: Automatic saving while typing
- **Word Count**: Real-time word counting
- **Date Tracking**: Creation and modification timestamps

#### 5. File Explorer (üìÅ)
Browse and manage your files:
- **Directory Structure**: Navigate through folders
- **File Operations**: Create, rename, delete files
- **File Types**: Support for various file formats
- **Search**: Find files quickly

#### 6. Secure Chat (üîí)
Advanced secure messaging application with AI assistant integration:
- **AI Assistant Integration**: Built-in AI support for system help and guidance
- **Secure Communications**: End-to-end encrypted messaging capabilities
- **System Notifications**: Integrated system alerts and status updates
- **Real-time Messaging**: Instant message delivery and responses
- **Smart Responses**: AI-powered suggestions and automated troubleshooting
- **Multi-conversation Support**: Separate channels for different types of communication

### Secure Chat Development Requirements

The Secure Chat application now features integrated AI assistance for enhanced user support:

#### Core Features
- **AI Assistant Integration**: Real-time AI support for system questions and troubleshooting
- **Secure Messaging**: End-to-end encrypted communication framework (ready for expansion)
- **System Integration**: Direct connection to KasOS system health and diagnostics
- **Smart Notifications**: Intelligent system alerts and status updates
- **Multi-Channel Support**: Separate conversations for AI assistance and system notifications

#### AI Assistant Capabilities
- **System Monitoring**: Real-time system health analysis and reporting
- **Troubleshooting**: Automated problem detection and solution suggestions
- **Performance Optimization**: Proactive performance improvement recommendations
- **Error Analysis**: Intelligent error pattern recognition and resolution
- **User Guidance**: Step-by-step assistance with KasOS features and applications

#### Future Enhancements
- **Multi-user Support**: Expand to support user-to-user secure messaging
- **File Sharing**: Secure file transfer capabilities with encryption
- **Group Conversations**: Support for encrypted group communications
- **Advanced Encryption**: Enhanced cryptographic protocols for maximum security
- **Offline Support**: Message queuing and delivery for offline scenarios

#### 7. Terminal (üíª)
Command-line interface:
- **Basic Commands**: File operations and system commands
- **Command History**: Navigate through previous commands
- **Auto-completion**: Command and path completion

#### 8. Settings (‚öôÔ∏è)
System configuration panel:
- **Desktop Customization**: Background colors and animation styles
- **Debug & Error Reporting**: Enable debug mode and error notifications
- **Storage Management**: Check storage usage and request quota increases
- **Error Analytics**: View error statistics and export error logs
- **System Information**: Monitor memory usage and performance

#### 9. Application Manager (üì¶)
Application development toolkit:
- **Import Custom Apps**: Load .js application files
- **Template Generator**: Download application development template
- **App Validation**: Security and structure validation
- **Installation Manager**: Install and manage custom applications
- **Uninstall Utility**: Remove applications safely

#### 10. App Store (üè™)
Browse and install applications from the KasOS app repository:
- **Featured Apps**: Discover editor-selected applications
- **Categories**: Browse apps by category (Productivity, Utilities, Development, Games, Finance)
- **Search**: Find applications by name or description
- **App Details**: View app information, screenshots, and reviews
- **One-Click Install**: Easy installation process
- **Ratings & Reviews**: See user feedback before installing
- **Integration**: Seamless integration with App Manager for installation

### Application Development

#### Creating Custom Applications
KasOS supports custom application development using JavaScript. Each application is a self-contained module with:

```javascript
({
    id: 'my-app',
    name: 'My Application',
    icon: 'üî•',
    description: 'My custom KasOS application',
    version: '1.0.0',
    
    init: function(KasOS) {
        // Initialize your application
        const content = this.getAppContent();
        const window = KasOS.createWindow('My App', content, 400, 300);
        
        setTimeout(() => {
            this.initApp(KasOS);
        }, 100);
    },
    
    getAppContent: function() {
        return `<div>Your HTML content here</div>`;
    },
    
    initApp: function(KasOS) {
        // Your application logic
    }
})
```

#### Application Manager (üì¶)
- **Import Apps**: Load custom .js application files
- **Template Generator**: Download application template
- **App Validation**: Security and structure validation
- **Installation**: Install and manage custom applications
- **Uninstall**: Remove applications safely

## Getting Started

### System Requirements
- Modern web browser (Chrome, Firefox, Safari, Edge)
- JavaScript enabled
- Local storage support
- IndexedDB support

### Installation
1. Clone or download the KasOS files
2. Ensure all files are in the same directory:
   - `index.html` - Main interface
   - `styles_clean.css` - Clean, optimized styles
   - `scripts_new.js` - Core KasOS logic (clean implementation)
   - `error-system.js` - Error reporting system
   - `login-persistence.js` - Session management and persistent login
   - `applications/` folder with built-in apps
3. Open `index.html` in a web browser
4. Register a new user account or login

### First Steps
1. **Register**: Create your user account
2. **Explore**: Double-click desktop icons to open applications
3. **Customize**: Use Settings to personalize your desktop
4. **Develop**: Create custom applications using the Code Editor

## Application Development Guide

### Basic Structure
Every KasOS application must be a JavaScript object with these required properties:
- `id`: Unique identifier (string)
- `name`: Display name (string)
- `init`: Initialization function that receives KasOS instance

### Optional Properties
- `icon`: Emoji or Unicode character for display
- `description`: Brief description of the application
- `version`: Version string
- `getAppContent`: Function returning HTML content

### Secure Chat Development Requirements

For future development of the Secure Chat application, consider implementing these features:

#### Core Requirements
- **Server Component**: Implement a real backend service for user authentication and message relay
- **WebSocket Support**: Replace simulated message delivery with real-time WebSocket connections
- **User Discovery**: Implement proper user discovery and status tracking
- **Key Exchange Protocol**: Implement a secure key exchange protocol (e.g., Diffie-Hellman)
- **Message Persistence**: Encrypted message storage with proper key management
- **Group Chat**: Support for encrypted group conversations

#### Security Requirements
- **Perfect Forward Secrecy**: Implement key rotation for better security
- **Message Verification**: Add message integrity and authentication checks
- **Secure Identity Verification**: User identity verification mechanisms
- **End-to-End Verification**: Allow users to verify encryption keys
- **Secure Storage**: Encrypted local storage for messages and keys
- **Metadata Protection**: Minimize metadata exposure

#### UI Enhancements
- **Message Types**: Support for different message types (text, images, files)
- **Read Receipts**: Message seen/delivered indicators
- **Typing Indicators**: Show when users are typing
- **Rich Text**: Support for basic formatting in messages
- **Profile Pictures**: User avatar support
- **Message Search**: Searchable message history while maintaining encryption

### KasOS API
Applications receive a KasOS instance with access to:
- `createWindow(title, content, width, height)`: Create application windows
- `fileSystem`: File operations API
- `currentUser`: Current user information
- `applications`: Application management API

### Example: Simple Calculator
```javascript
({
    id: 'calculator',
    name: 'Calculator',
    icon: 'üßÆ',
    
    init: function(KasOS) {
        const content = `
            <div style="padding: 20px;">
                <input id="display" type="text" readonly style="width: 100%; margin-bottom: 10px;">
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px;">
                    <button onclick="calc.clear()">C</button>
                    <button onclick="calc.input('/')">/</button>
                    <button onclick="calc.input('*')">*</button>
                    <button onclick="calc.input('-')">-</button>
                    <!-- More buttons... -->
                </div>
            </div>
        `;
        
        KasOS.createWindow('Calculator', content, 250, 300);
        
        window.calc = {
            input: function(value) {
                document.getElementById('display').value += value;
            },
            clear: function() {
                document.getElementById('display').value = '';
            },
            calculate: function() {
                try {
                    const result = eval(document.getElementById('display').value);
                    document.getElementById('display').value = result;
                } catch (e) {
                    document.getElementById('display').value = 'Error';
                }
            }
        };
    }
})
```

### Security Considerations
- Applications run in the same context as the main system
- Code validation prevents dangerous patterns
- File size limits (1MB) for imported applications
- No access to system files outside user directories

## File System Structure
```
/users/[username]/
  ‚îú‚îÄ‚îÄ documents/     # Text files and documents
  ‚îú‚îÄ‚îÄ notes/         # Notes application data
  ‚îú‚îÄ‚îÄ music/         # Audio files
  ‚îú‚îÄ‚îÄ pictures/      # Image files
  ‚îî‚îÄ‚îÄ downloads/     # Downloaded files
```

## Keyboard Shortcuts

### Global
- `Ctrl+Alt+T`: Open Terminal
- `Ctrl+Alt+F`: Open File Explorer
- `Alt+Tab`: Switch between windows
- `Ctrl+Shift+D`: Toggle Debug Console (Error System)

### Error System
- `Ctrl+Shift+D`: Toggle debug panel
- Click error notifications for details
- Click debug log entries for full error information

### Code Editor
- `Ctrl+S`: Save file
- `Ctrl+O`: Open file
- `Ctrl+N`: New file
- `Tab`: Indent
- `Shift+Tab`: Unindent
- `Ctrl+Enter`: Run code

### Text Editor
- `Ctrl+S`: Save document
- `Ctrl+O`: Open document
- `Ctrl+N`: New document
- `Ctrl+B`: Bold
- `Ctrl+I`: Italic
- `Ctrl+U`: Underline

## Browser Compatibility
- ‚úÖ Chrome 80+
- ‚úÖ Firefox 75+
- ‚úÖ Safari 13+
- ‚úÖ Edge 80+

## Troubleshooting

### Common Issues
1. **Applications won't load**: Check browser console for JavaScript errors and use Debug Console (Ctrl+Shift+D)
2. **Files won't save**: Ensure sufficient browser storage space (use Settings ‚Üí Storage Management)
3. **Login issues**: Clear browser data and try again, or use storage cleanup options
4. **Import fails**: Verify application file format and syntax
5. **Storage quota exceeded**: Use Settings ‚Üí Request Storage Increase or clear error logs

### Error Debugging
- **Debug Console**: Press `Ctrl+Shift+D` to open the advanced debug console
- **Error Notifications**: Click on error notifications for detailed information
- **Error Export**: Use Settings ‚Üí Export Error Log to save debugging information
- **Storage Cleanup**: Use Settings ‚Üí Clear Errors to free up storage space

### Performance Tips
- Close unused applications to free memory
- Regularly save your work
- Use multiple desktops to organize workflows
- Clear browser cache if experiencing slowdowns
- Monitor storage usage in Settings panel

## Contributing
To contribute to KasOS development:
1. Fork the repository
2. Create feature branches
3. Test thoroughly across browsers
4. Submit pull requests with detailed descriptions
5. Donate to help the developer build a better Web3 experience for you. kaspa:qyppcj89ldqu0jnc0rcrzv3u0f2405raq2nnha9ptqqtfylaf7laaccqt85umkl

## License
KasOS is open-source software. See LICENSE file for details.
